            document.getElementById('fournisseurFilter').addEventListener('change', () => {
                console.log('Fournisseur filter changed:', document.getElementById('fournisseurFilter').value);
                reloadData();
            });

            document.getElementById('userFilter').addEventListener('change', () => {
                console.log('User filter changed:', document.getElementById('userFilter').value);
                reloadData();
            });

            // Initial data load
            const userId = localStorage.getItem('userId');
            if (userId) {
                chargerClients();
                chargerFournisseurs();
                chargerUtilisateurs();
                reloadData();

                const userEmail = localStorage.getItem('userEmail') || 'Utilisateur';
                document.getElementById('userDisplay').textContent = userEmail;
                document.getElementById('userDisplay').classList.remove('hidden');
                document.getElementById('loginLogoutButton').innerHTML = '<i class="fas fa-sign-out-alt mr-1"></i> DÃ©connexion';
            } else {
                showToast('Veuillez vous connecter', true);
                window.location.href = 'index.html';
            }
        });
    </script>
</body>
</html>
